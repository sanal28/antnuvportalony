<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="~/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <link href="~/css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="~/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Shadows+Into+Light" rel="stylesheet">
    <link href="~/css/styles.css" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="~/Scripts/Table2Excel.js" type="text/javascript"></script>
    <script src="~/Scripts/CustomScript.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ui.min.js" type="text/javascript"></script>
    @*<script src="~/Scripts/jqueryUI.js" type="text/javascript"></script>*@
    <script src="~/Scripts/Moment.js" type="text/javascript"></script>
    @*<script src="~/Scripts/snowstorm-min.js" type="text/javascript"></script>*@ @*To Add snowstorm*@
    <link href="~/css/jquery-ui.css" rel="stylesheet" />
    <script type="text/javascript">
        //snowStorm.snowColor = '#FFF';   // blue-ish snow!? To Add snowstorm 
        //snowStorm.flakesMaxActive = 1000000;    // show more snow on screen at once To Add snowstorm
        //snowStorm.useTwinkleEffect = true; // let the snow flicker in and out of view To Add snowstorm
        var EmpID = 0;
        var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        var dt = new Date();
        $(document).ready(function () {
            //$("#txtConfirmPassword").keyup(checkPasswordMatch);
            var sessionVal = parseInt(@Session["EmpID"]);
            if (!isNaN(sessionVal) && sessionVal != "")
                EmpID = parseInt(@Session["EmpID"]);
            var LType = -1;
            LType = parseInt(@Session["Ltype"]);
            if (LType == 1) {
                $(".adduser").show();
            }
            $.ajax({
                url: '/EmpInfoUserView/GetEmpInfo',
                type: "GET",
                async: false,
                dataType: 'json',
                data: { EmployeeId: EmpID, Operation: 0 },
                success: function (result) {
                    var resultVals = $.parseJSON(result);
                    if (resultVals["Result"] == undefined || resultVals["Result"] == null) {
                        var ratingValue = (resultVals[0]["EmpRating"]) * 20;
                        //Show details in website
                        $("#divProfileName").text(resultVals[0]["FirstName"] + " " + resultVals[0]["LastName"]);
                        $("#divDesignation").text(resultVals[0]["Designation"]);
                        $("#divEmpCode").text(resultVals[0]["EmployeeCode"]);
                        $("#officeEmail").text(resultVals[0]["WorkEmail"]);
                        $("#divEmpContact").text((resultVals[0]["ContactNum"] != null && resultVals[0]["ContactNum"] != "") ? resultVals[0]["ContactNum"] : "");
                        if (resultVals[0]["QuotesPictureUrl"] != "") {
                            $('#imgQuotes').attr('src', resultVals[0]["QuotesPictureUrl"]);
                            if (resultVals[0]["QuotesText"] != "")
                                $('#pQuotesText').html("<span><i class='fa fa-quote-left' aria-hidden='true'></i></span>" + resultVals[0]["QuotesText"] +
                                    "<span><i class='fa fa-quote-right' aria-hidden='true'></i></span>");
                            DefineQuotesPopup();
                        }
                        if (resultVals[0]["ProfilePicUrl"] != "") {
                            //var FileName = resultVals[0]["ProfilePicUrl"].split('\\').pop();
                            $("#imgProfilePic").attr('src', resultVals[0]["ProfilePicUrl"]);
                        }
                        if (resultVals[0]["BackGroundPicUrl"] != "") {
                            //var FileName = resultVals[0]["BackGroundPicUrl"].split('\\').pop();
                            $('body').css('background-image', "url('" + resultVals[0]["BackGroundPicUrl"] + "')");
                        }

                        if (resultVals[0]["DesignationId"] == 1 || resultVals[0]["DesignationId"] == 2 || resultVals[0]["DesignationId"] == 3 ||
                            resultVals[0]["DesignationId"] == 5) {
                            $(".HR").show();
                            $(".Recruitment").show();
                            $(".USRecruitment").show();
                            $(".project").show();
                            $(".Admin").show();
                            $(".mgrStatusUpdate").show();
                        }
                        else if (resultVals[0]["DesignationId"] == 4) {
                            $(".HR").show();
                            $(".Recruitment").show();
                            $(".USRecruitment").show();
                        }
                        else if (resultVals[0]["DesignationId"] == 23) {
                            $(".HR").show();
                            $(".USRecruitment").show();
                            $(".Admin").show();
                        }
                        else if (resultVals[0]["DesignationId"] == 11) {
                            $(".HR").show();
                        }
                        else if (resultVals[0]["DesignationId"] == 6 || resultVals[0]["DesignationId"] == 7) {
                            $(".Recruitment").show();
                            $(".USRecruitment").show();
                        }

                        else if (resultVals[0]["DesignationId"] == 8 || resultVals[0]["DesignationId"] == 9) {
                            $(".project").show();
                        }

                        if (resultVals[0]["IsManagerOrLead"] == 1) {
                            $(".project").show();
                            $(".mgrStatusUpdate").show();
                        }
                        $(".star-ratings-sprite-rating").css("width", ratingValue + "%");
                        //for (var i = 1; i <= 5 ; i++) {
                        //    if (i <= parseInt(resultVals[0]["EmpRating"]))
                        //        $('.layoutRating').find('.layoutRadio[value=' + i + ']').attr('checked', 'checked');
                        //}
                    }
                },
                error: function (err) {
                    //alert(err.statusText);
                }
            });
            $('#hrefProfile').click(function () {
                $('#EmpViewType').val(2);
                $('#frmLayouts').submit();
            });
            //$('.layoutRating > .layoutRadio').click(function () {
            //    return false;
            //});
            $('#hideshow').live('click', function (event) {
                $('#content').toggle('show');
                $('#txtEmpRes').val("");
                $('#txtEmpRes').focus();
            });
            //$('.MonthlyRating > .monlayoutRadio').click(function () {
            //    return false;
            //});
            $('#txtEmpRes').keydown(function () {                
                $(this).autocomplete({
                    source: function (request, response) {
                        $.ajax({
                            url: '/EmpInfoAdminView/AutoComplete',
                            type: "POST",
                            dataType: "json",
                            contentType: "application/json; charset=utf-8",
                            data: "{ 'EmpName': '" + request.term.split(/,\s*/).pop() + "' }",
                            success: function (data) {
                                var items = [];
                                for (var i = 0; i < data.length; i++) {
                                    items.push({ Id: data[i]["Key"], label: data[i]["Value"], value: data[i]["Value"] });
                                }
                                response($.map(items, function (item) {
                                    return item;
                                }))
                            },
                            error: function (response) {
                            },
                            failure: function (response) {
                            }
                        });
                    },
                    select: function (e, i) {
                        $('#hdnResId').val(i.item.Id);
                        (this).value = i.item.value;
                        return true;
                    },
                    minLength: 1
                });
                //$('.ui-menu').attr('style', 'z-index:1001');
            });

            $("body").click(function (e) {
                if (e.target.id != "divUserSearch" && !e.target.classList.contains("ui-menu-item-wrapper")
                    && !e.target.classList.contains("dlgEmpClose") && $(e.target).parents("#divUserSearch").size() == 0) {
                    $('#content').hide();
                    $('#txtEmpRes').val("");
                }
            });

            $("#hrefLogOut").click(function () {
                $.ajax({
                    url: '/EmpInfoUserView/ClearSession',
                    type: "GET",
                    contentType: false,
                    async: false,
                    processData: false,
                    success: function () {
                        window.location.href = "/Login/LoginView";
                    },
                    error: function (err) {
                        //alert(err.statusText);
                    }
                });
            });
        });
        function DefineQuotesPopup()
        {
            $('#imgProfilePic').click(function () {
                if ($('#pQuotesText').html() == "")
                    $('.profiletext').hide();
                else
                    $('.profiletext').show();
                var dialog = document.getElementById('dlgShowProfilepicture');
                dialog.showModal();
            });
        }
        function loadEmployeeRatings(yr, mon) {
            $.ajax({
                url: '/Home/GetMonthlyRating',
                type: "GET",
                datatype: 'json',
                data: { Year: yr, Month: mon, Operation: 2 },
                success: function (result) {
                    var resultVals = $.parseJSON(result);
                    $('#EmpRatingmonthYeardiv')[0].innerText = months[mon - 1] + " " + yr;
                    if (resultVals["Result"] == undefined || resultVals["Result"] == null) {
                        var MonthlyRatingValue = (resultVals[0]["AvgMonthRating"]) * 20;
                        $(".star-ratings-sprite-ratingMonthly").css("width", MonthlyRatingValue + "%");
                        //for (var i = 1; i <= 5 ; i++) {
                        //    if (i <= parseInt(resultVals[0]["AvgMonthRating"]))
                        //        $('#divMonthlyRatings').find('.monlayoutRadio[value=' + i + ']').attr('checked', 'checked');
                        //} 
                    }
                    //else
                    //{
                    //    for (var i = 1; i <= 5 ; i++) {
                    //        $('#divMonthlyRatings').find('.monlayoutRadio[value=' + i + ']').attr('checked', false);
                    //    }
                    //}
                    //if (mon == parseInt(dt.getMonth() + 1) && yr == dt.getFullYear()) {
                    //    $('#divEmpRatingNext').attr('disabled', true);
                    //}
                    if (mon == parseInt(dt.getMonth() + 1) && yr == dt.getFullYear()) {
                        $('#divEmpRatingNext').css('pointer-events', 'none');
                    }
                    else
                        $('#divEmpRatingNext').css('pointer-events', 'visible');
                    $('#divEmployeeRatings').empty();
                    if (resultVals["Result"] == undefined || resultVals["Result"] == null) {
                        for (var i = 0; i < resultVals.length ; i++) {
                            var divHtml = "<div id='divEmployeeRatings'>" +
                                    "<div class='row'>" +
									"<div class='col-sm-4'>" +
										"<div class='Employeeratingdiv'>" +
										"<div class='Employeeratingsubdiv'>" +
										"<div class='employeeratingimgdiv'><img src='" + resultVals[i]["ProfilePicUrl"] + "' width='133' height='133' alt='' /></div>" +
										"<div class='Empsrating'>" +
										"<div class='Empsratingnumber'>" + resultVals[i]["Rating"] + "</div>" +
										"</div>" +
										"<div class='Employeeratingheading'>" + resultVals[i]["RatedByFName"] + "</div>" +
                                        "<p>" + resultVals[i]["Comments"] + "</p>" +
										"</div>" +
									"</div>" +
									"</div>";
                            i = i + 1;
                            if (i < resultVals.length) {
                                divHtml = divHtml + "<div class='col-sm-4'>" +
										"<div class='Employeeratingdiv'>" +
										"<div class='Employeeratingsubdiv'>" +
										"<div class='employeeratingimgdiv'><img src='" + resultVals[i]["ProfilePicUrl"] + "' width='133' height='133' alt='' /></div>" +
										"<div class='Empsrating'>" +
										"<div class='Empsratingnumber'>" + resultVals[i]["Rating"] + "</div>" +
										"</div>" +
										"<div class='Employeeratingheading'>" + resultVals[i]["RatedByFName"] + "</div>" +
                                        "<p>" + resultVals[i]["Comments"] + "</p>" +
										"</div>" +
									"</div>" +
									"</div>";
                                i = i + 1;
                            }
                            if (i < resultVals.length) {
                                divHtml = divHtml + "<div class='col-sm-4'>" +
                                        "<div class='Employeeratingdiv'>" +
										"<div class='Employeeratingsubdiv'>" +
										"<div class='employeeratingimgdiv'><img src='" + resultVals[i]["ProfilePicUrl"] + "' width='133' height='133' alt='' /></div>" +
										"<div class='Empsrating'>" +
										"<div class='Empsratingnumber'>" + resultVals[i]["Rating"] + "</div>" +
										"</div>" +
										"<div class='Employeeratingheading'>" + resultVals[i]["RatedByFName"] + "</div>" +
                                        "<p>" + resultVals[i]["Comments"] + "</p>" +
										"</div>" +
									"</div>" +
									"</div>";
                            }
                            divHtml = divHtml + "</div>" +
                                   "</div>";
                            $('#divEmployeeRatings').append(divHtml);
                        }
                    }
                    else {
                        $(".star-ratings-sprite-ratingMonthly").css("width", "0%");
                        $('#divEmployeeRatings').append("<div width='100%' class='NoRecordsFound'>No Records Found</div>");
                    }
                    PreventDefaultClick();
                },
                error: function (err) {
                }
            });
            $('#dlgEmployeeRating')[0].showModal();
        }

        function BindEmployeeDetails() {
            if ($('#txtEmpRes').val() != "") {
                $.ajax({
                    url: '/EmployeeInfo/GetEmployeeDetails',
                    dataType: "json",
                    type: "GET",
                    contentType: 'application/json; charset=utf-8',
                    data: {
                        EmpId: $('#hdnResId').val()
                    },
                    success: function (data) {
                        var results = $.parseJSON(data);

                        if (results["Error"] == undefined || results["Error"] == null) {
                            $('#divEmp')[0].innerHTML = "";
                            $('#divLocation')[0].innerHTML = "";
                            $('#divDesig')[0].innerHTML = "";
                            $('#ulSkills li').remove();
                            $('#ulTech li').remove();
                            $('#ulCert li').remove();
                            $('#divEmp').append('<span><i class="fa fa-address-card" aria-hidden="true"></i></span>' + results[0].EmployeeCode);
                            $('#divLocation').append('<span><i class="fa fa-map-marker" aria-hidden="true"></i></span>' + results[0].Location);
                            $('#divDesig').append('<span><i class="fa fa-user-circle" aria-hidden="true"></i></span>' + results[0].Designation);
                            $('#divName')[0].innerText = results[0].FirstName + " " + results[0].LastName;
                            $('#divEmail')[0].innerText = results[0].WorkEmail;
                            $('#divPhone')[0].innerText = results[0].Phone1;
                            if (results[0].QuotesPictureUrl == "") {
                                $('#imgProfile').attr('src', "../Images/NoImage.jpg");
                            }
                            else {
                                
                                $('#imgProfile').attr('src', results[0].QuotesPictureUrl);
                            }
                            $('#hdnimgProfilepic').val(results[0].QuotesPictureUrl);
                            if (results[0].Skills != null) {
                                var skills = results[0].Skills.split('|');
                                for (var i = 0; i < skills.length - 1; i++)
                                    $('#ulSkills').append("<li>" + skills[i] + "</li>");
                                $('#Skillmaindiv').show();
                                $('#SkillsDiv').show();
                            }
                            else {
                                $('#SkillsDiv').hide();
                                $('#Skillmaindiv').hide();
                            }
                            if (results[0].Technologies != null) {
                                var tech = results[0].Technologies.split('|');
                                for (var i = 0; i < tech.length - 1; i++)
                                    $('#ulTech').append("<li>" + tech[i] + "</li>");
                                $('#Skillmaindiv').show();
                                $('#TechDiv').show();
                            }
                            else {
                                $('#TechDiv').hide();
                                $('#Skillmaindiv').hide();
                            }
                            if (results[0].Certification != null) {
                                var cert = results[0].Certification.split('|');
                                for (var i = 0; i < cert.length - 1; i++)
                                    $('#ulCert').append("<li>" + cert[i] + "</li>");
                                $('#Skillmaindiv').show();
                                $('#CertDiv').show();
                            }
                            else {
                                $('#CertDiv').hide();
                                $('#Skillmaindiv').hide();
                            }
                            BindAboutMe(parseInt($('#hdnResId').val()));
                            $('#dlgProfile')[0].showModal();
                        }
                    },
                    error: function (xhr) {
                    }
                });
            }
        }
        function BindAboutMe(emp) {
            var Employee = EmpID;
            if (emp != 0)
                Employee = emp;
            $.ajax({
                url: '/EmpInfoUserView/GetEmpInfo',
                type: "GET",
                async: false,
                dataType: 'json',
                data: { EmployeeId: Employee, Operation: 0 },
                success: function (result) {
                    var resultVals = $.parseJSON(result);
                    if (resultVals["Result"] == undefined || resultVals["Result"] == null) {
                        
                        if (resultVals[0]["QuotesPictureUrl"] != "") {
                            $('#imgQuotes').attr('src', resultVals[0]["QuotesPictureUrl"]);
                            if (resultVals[0]["QuotesText"] != "")
                                $('#pQuotesText').html("<span><i class='fa fa-quote-left' aria-hidden='true'></i></span>" + resultVals[0]["QuotesText"] +
                                    "<span><i class='fa fa-quote-right' aria-hidden='true'></i></span>");
                            else
                                $('#pQuotesText').html("");
                        }
                        else
                            $('#imgQuotes').attr('src', '');
                    }
                },
                error: function (err) {
                }
            });
        }
        function showprofilepicture() {
            if($('#hdnimgProfilepic').val()!="")
            {
               $('#dlgShowProfilepicture')[0].showModal();
            }
            else {
                $('#dlgShowProfilepicture')[0].hide();
            }
        }
        function changePassword()
        {
            if (ValidateAll('divClearPwdChange', 'lblMessageChangePwd'))
            {
                if (($("#txtNewPassword").val() == $("#txtConfirmPassword").val())) {
                    $.ajax({
                        url: '/Home/changePassword',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            OldPassword: $("#txtOldPassword").val(), NewPassword: $("#txtNewPassword").val(),
                            ConfirmPassword: $("#txtConfirmPassword").val(), Operation: 1
                        },
                        success: function (result) {
                            var resultVals = $.parseJSON(result);
                            if (resultVals["Result"] == undefined || resultVals["Result"] == null) 
                            {
                                if (resultVals[0]["UserUpdated"] != 0) {
                                    $('#lblMessageChangePwd').text("Password changed  successfully");
                                    ClearAllControlValues('divClearPwdChange');
                                }
                                else {
                                    $('#lblMessageChangePwd').removeClass("lblMessageChangePwd");
                                    $('#lblMessageChangePwd').addClass("lblError");
                                    $('#lblMessageChangePwd').text("Old password doesn't match");
                                    $("#txtOldPassword").addClass("ErrorFocus");
                                    $("#txtOldPassword").focus();
                                    $("#txtOldPassword").val("");
                                }
                            }
                            else
                            {
                                $('#lblMessageChangePwd').removeClass("lblMessageChangePwd");
                                $('#lblMessageChangePwd').addClass("lblError");
                                $('#lblMessageChangePwd').text("Error in updating password");
                                $("#txtOldPassword").addClass("ErrorFocus");
                                $("#txtOldPassword").focus();
                                $("#txtOldPassword").val("");
                            }
                        },
                        error: function () {
                        }
                    });

                }
                else
                {
                    $('#lblMessageChangePwd').removeClass("lblMessageChangePwd");
                    $('#lblMessageChangePwd').addClass("lblError");
                    $('#txtNewPassword').addClass("ErrorFocus");
                    $("#txtNewPassword").focus();
                    $('#txtConfirmPassword').addClass("ErrorFocus");
                    $("#txtConfirmPassword").focus();
                    $('#lblMessageChangePwd').text("Password doesn't match!");
                    $("#txtConfirmPassword").val("");
                    $("#txtNewPassword").val("");
                }
            }
        }
        function closePwdDlg()
        {
            $('#dlgChangePwd')[0].close();
            ClearAllControlValues('divClearPwdChange');
            $('#lblMessageChangePwd').text("");
        }
        function clearControlsChangePwd()
        {
            ClearAllControlValues('divClearPwdChange');
            $('#lblMessageChangePwd').text("");
        }
    </script>
</head>
<body>
    <form id="frmLayouts" action="/EmpInfoUserView/EmpInfoUserView" method="post">
        @Html.Hidden("EmpViewType", new { id = "EmpViewType", name = "EmpViewType" })
    </form>
    <input type="hidden" id="hdnimgProfilepic" />
    <dialog id="dlgChangePwd" style="width:42%;background: transparent;border: none;">
        @*<div class="contentmaindiv">*@
        <div class="popupmaindiv" style="padding:5px;">
            <div class="popupmaindiv">
                <div class="popupheadingmaindiv">
                    <div class="popupheadingtext">Change Password</div>
                    <div class="popupclosebutton" title="Close" onclick="closePwdDlg()"><a href="#">X</a></div>
                </div>
                <div class="space"></div>
                <div class="Popupcontentmaindiv" id="divClearPwdChange">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="contentfielddiv">
                                <input class="floating-input vinput" type="password" id="txtOldPassword" placeholder=" ">
                                <label class="float">Old Password</label>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="contentfielddiv">
                                <input class="floating-input vinput" type="password" id="txtNewPassword" placeholder=" ">
                                <label class="float">New Password</label>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="contentfielddiv">
                                <input class="floating-input vinput" type="password" id="txtConfirmPassword" placeholder=" ">
                                <label class="float">Confirm Password</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="buttonmaindiv">
                    <div class="buttondiv"><input class="submitbtn" type="button" title="Save" onclick="changePassword()" /></div>
                    <div class="buttondiv"><input class="clearbtn" type="button" title="Clear" onclick="clearControlsChangePwd();" /></div>
                    <div class="ErrorLabel"><label id="lblMessageChangePwd" class="lblMessage"></label></div>     
                </div>
            </div>
            </div>
            @*</div>*@
</dialog>
    <dialog id="dlgProfile" style="border:none;padding:0px;width:500px">
        <input type="hidden" id="hdnResId" />
        <div class="userinfoPopupmaindiv">
            <div class="userinfoclosediv">
                <div class="userinfoclosebtn"><a href="#" class="dlgEmpClose" onclick="javascript: $('#dlgProfile')[0].close(); BindAboutMe(0);">
                    <i class="dlgEmpClose fa fa-times-circle" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
            <div class="PopupuerinfoHeader">
                <div class="PopupuerinfoSubHeader">
                    <div class="Popupemployecode" id="divEmp"></div>
                    <div class="Popupuserinfolocation" id="divLocation"></div>
                    <div class="Popupuserinfodesignation" id="divDesig"></div>
                </div>
            </div>
            <div class="Popupuserinfoimagediv">
                <div class="Popupuserinfopic"><a href="#"><img id="imgProfile" onclick="showprofilepicture();"></a></div>
                <div class="Popupuserinfoname" id="divName"></div>
                <div class="Popupuserinfoemail" id="divEmail"></div>
                <div class="Popupuserinfoemail" id="divPhone"></div>
            </div>
            <div style="overflow-y:auto;overflow-x:hidden;max-height:200px;">
                <div class="PopupuserinfoSkillmaindiv" id="Skillmaindiv">
                    <div class="userinfoPopupsubdiv">
                        <div id="SkillsDiv" style="display:none">
                            <div class="PopupuserinfoSkills">Skills</div>
                            <div class="PopupuserinfoSkillsmaindiv">
                                <div class="PopupuserinfoSkillslist">
                                    <ul id="ulSkills"></ul>
                                </div>
                            </div>
                            <div class="space2"></div>
                        </div>
                        <div id="TechDiv" style="display:none">
                            <div class="PopupuserinfoSkills">Technologies</div>
                            <div class="PopupuserinfoSkillsmaindiv">
                                <div class="PopupuserinfoSkillslist">
                                    <ul id="ulTech"></ul>
                                </div>
                            </div>
                            <div class="space2"></div>
                        </div>
                        <div id="CertDiv" style="display:none">
                            <div class="PopupuserinfoSkills">Certification</div>
                            <div class="PopupuserinfoSkillsmaindiv">
                                <div class="PopupuserinfoSkillslist">
                                    <ul id="ulCert"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
    </dialog>
    <dialog id="dlgEmployeeRating" style="width:80%;background: transparent;top: 25%;left: 5%;border: none;">
        <div class="popupmaindiv" style="padding:5px">
            <div class="popupmaindiv">
                <div class="popupheadingmaindiv">
                    <div class="popupheadingtext">Ratings</div>
                    <div class="popupclosebutton"><a title="Close" href="#" onclick="$('#dlgEmployeeRating')[0].close();">X</a></div>
                </div>
                <div class="contentmaindiv">
                    <div class="row" style="margin-right:0px !important;margin-left:0px !important">
                        <div class="col-md-12">
                            <div class="calendarmaindiv">
                                <div class="academicaddmaindiv" style="text-align:center;margin: 0px 0px 0px 12px;overflow:hidden;">
                                    <table>
                                        <tr>
                                            <td width="5%">
                                                <div class="timesheetleftarrow calPrev" onclick="RatingPrevious(this);"><a title="Previous" href="#" id="btnEmpRatingPrev">&#8810;</a></div>
                                            </td>
                                            <td width="90%" style="vertical-align:central;">
                                               <label id="EmpRatingmonthYeardiv" class="popupheadingtext1" style="overflow:hidden;padding:0px !important;margin:0px !important"></label>
                                                <div class="profilerating" id="divMonthlyRatings" style="float:right">
                                                    <div class="monthlyratingdiv">
                                                        <div class="star-ratings-spriteMonthly"><span class="star-ratings-sprite-ratingMonthly"></span></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td width="5%">
                                                <div class="timesheetrightarrow calNext" id="divEmpRatingNext" onclick="RatingNext(this);"><a title="Next" href="#" id="btnEmpRatingNext">&#8811;</a></div>
                                            </td>
                                        </tr>
                                    </table>
                                    <input type="hidden" id="hdnEmpRatingPage" value="0" />

                                    @*<div style="float: left;width: 100%;"> 
                                        <div class="timesheetleftarrow calPrev" onclick="RatingPrevious(this);"><a href="#" id="btnPrev">&#8810;</a></div>
                                        <div><label id="EmpRatingmonthYeardiv" class="popupheadingtext1" style="margin: 0px 0px 0px -109px;overflow:hidden;"></label></div>
                                        <div class="profilerating" id="divMonthlyRatings" style="float:left">
                                            <div class="monthlyratingdiv">
                                                <div class="star-ratings-sprite"><span class="star-ratings-sprite-rating"></span></div>
                                            </div>
                                        </div>
                                        <div class="timesheetrightarrow calNext" id="divNext" onclick="RatingNext(this);"><a href="#" id="btnNext">&#8811;</a></div>
                                        <input type="hidden" id="hdnPage" value="0" />
                                    </div>*@
                                   
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row" style="margin-right:18px !important;margin-left:31px !important">
                        <div id="divEmployeeRatings">
                        </div>
                    </div>
                    <div class="space"></div>
                    <div class="row" style="margin-right:0px !important;margin-left:0px !important">
                        <div class="col-md-12">
                            <div class="Employeerateothers"><a href="@Url.Action("RateOtherEmployee", "Home")">Rate a User </a></div>
                        </div>
                    </div>
                </div>
                </div>

        </div>
    </dialog>
    <dialog id="dlgShowProfilepicture" style="width:40%;background: transparent;top: 5%;left: 5%;border: none;">
        <div class="popupmaindiv">
            <div class="profilemaindiv">
                <div class="popupheadingmaindiv">
                    <div class="popupheadingtext">About Me</div>
                    <div class="popupclosebutton"><a href="#" onclick="$('#dlgShowProfilepicture')[0].close();">X</a></div>
                </div>
                <img src="" id="imgQuotes" width="800" height="501" alt="" />
                @*<div class="profilepopupclose"><a href="#"><i class="fa fa-times" aria-hidden="true"></i></a></div>*@
                <div class="profiletext">
                    <p id="pQuotesText"></p>
                </div>
            </div>
        </div>
    </dialog>
    <div class="container body-content">
        <header>
            <div class="headermaindiv">
                <div class="headertopdiv">
                    <div class="row">
                        <div class="col-md-1">
                            <div class="logodiv"><img src="~/Images/logo-small.png" width="28" height="28" alt="" /></div>
                            </div>
                        <div class="col-md-3">
                            <div class="profilerating" id="divRatings" onclick="loadEmployeeRatings(dt.getFullYear(), parseInt(dt.getMonth()) + 1, 17);">
                                <div class="ratingdiv" title="Rating">
           @* <fieldset class="layoutRating">
        <input type="radio" id="field0_star05" class="layoutRadio" name="rating0" value="5" /><label class="full" for="field0_star05" onclick="loadEmployeeRatings(dt.getFullYear(), parseInt(dt.getMonth()) + 1, 17);"></label>

        <input type="radio" id="field0_star04" class="layoutRadio" name="rating0" value="4" /><label class="full" for="field0_star04" onclick="loadEmployeeRatings(dt.getFullYear(), parseInt(dt.getMonth()) + 1, 17);"></label>

        <input type="radio" id="field0_star03" class="layoutRadio" name="rating0" value="3" /><label class="full" for="field0_star03" onclick="loadEmployeeRatings(dt.getFullYear(), parseInt(dt.getMonth()) + 1, 17);"></label>

        <input type="radio" id="field0_star02" class="layoutRadio" name="rating0" value="2" /><label class="full" for="field0_star02" onclick="loadEmployeeRatings(dt.getFullYear(), parseInt(dt.getMonth()) + 1, 17);"></label>

        <input type="radio" id="field0_star01" class="layoutRadio" name="rating0" value="1" /><label class="full" for="field0_star01" onclick="loadEmployeeRatings(dt.getFullYear(), parseInt(dt.getMonth()) + 1, 17);"></label>

    </fieldset>*@

                                @*<div class="star-ratings-css" id="divEmpRating">
                <div class="star-ratings-css-top" style="width: 30%"><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                <div class="star-ratings-css-bottom"><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
            </div>*@
                                <div class="star-ratings-sprite"><span class="star-ratings-sprite-rating"></span></div>
                            </div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="headeredit"><a href="#" id="hrefLogOut"><img title="Log Out" src="~/Images/logout.png" width="28" height="28" alt="" /></a></div>
                            <div class="headeredit"><a href="#" id="hrefProfile"><img title="Profile" src="~/Images/profile-icon.png" width="28" height="28" alt="" /></a></div>
                            <div id="divUserSearch">
                                <div class="headeredit"><a href="#" id="hideshow"><img title="People Search" src="../images/user-info.png" width="28" height="28" alt="" /></a></div>
                                <div id="content">
                                    <div class="userinfotopsearchdiv">
                                        <div class="userinfosearchtextareadiv">
                                            <input type="text" class="userinfosearchtextarea" id="txtEmpRes" />
                                        </div>
                                        <div class="userinfosearchbtndiv"><a href="#"> <img title="Search" src="../images/search-icon.png" onclick="BindEmployeeDetails();" /></a></div>
                                    </div>
                                </div>
                            </div>
                            <div class="headeredit"><div class="changepassworddiv" onclick="$('#dlgChangePwd')[0].showModal();"><a title="Change Password" href="#"><i class="fa fa-unlock-alt" aria-hidden="true"></i></a></div></div>
                        </div>
                        </div>
                        <div class="row">
                            <div class="col-md-1"></div>
                            <div class="col-md-2">
                                <div class="userprofilediv"><a href="#"><img title="Profile Icon" id="imgProfilePic" class="userprofilediv" alt="" /></a></div>
                            </div>
                            <div class="col-md-4">
                                <div class="userprofilename" id="divProfileName"></div>
                                <div class="userprofiledesignation" id="divDesignation"></div>
                                <div class="userprofiledesignation" id="divEmpCode"></div>
                            </div>
                            @*<div class="col-md-3"><div class="santa"></div></div>*@ @*To add x'mas santa*@
                                <div class="col-md-4">
                                    <div class="userprofileemail" id="officeEmail"></div>
                                    <div class="userprofileemail1" id="divEmpContact"></div>
                                </div>
                            </div>
                    </div>
</header>
        <div class="container">
            <main>
                <div class="row">
                    <div class="col-md-1">
                        <div class="navleftdiv">
                            <a href="@Url.Action("Home", "Home")">
                                <div class="leftnavmaindiv">
                                    <div class="leftnavicon">
                                        <img src="~/Images/home.png" width="32" height="32" alt="" />
                                    </div>
                                    <div class="leftnavtext leftnavigation">Home</div>
                                </div>
                            </a>
                            <div class="leftnavdivider"></div>
                            <a class="project" style="display:none" href="@Url.Action("Projects", "Projects")">
                                <div class="leftnavmaindiv">
                                    <div class="leftnavicon">
                                        <img src="~/Images/project.png" width="32" height="32" alt="" />
                                    </div>
                                    <div class="leftnavtext leftnavigation">Projects</div>
                                </div>
                            </a>
                            <div class="leftnavdivider project" style="display:none"></div>
                            <a href="@Url.Action("IconsView", "RequestMain")">
                                <div class="leftnavmaindiv">
                                    <div class="leftnavicon">
                                        <img src="~/Images/request.png" width="32" height="32" alt="" />
                                    </div>
                                    <div class="leftnavtext leftnavigation">Requests</div>
                                </div>
                            </a>
                            <div class="leftnavdivider"></div>
                            @*<a href="@Url.Action("AdminHome", "AdminHome")">
                                    <div class="leftnavmaindiv adduser" style="display:none">
                                        <div class="leftnavicon">
                                            <img src="~/Images/administrator.png" width="32" height="32" alt="" />
                                        </div>
                                        <div class="leftnavtext leftnavigation">Admin</div>
                                    </div>
                                    <div class="leftnavdivider adduser" style="display:none"></div>
                                </a>*@
                            <a class="HR" style="display:none" href="@Url.Action("HRHome", "HR")">
                                <div class="leftnavmaindiv">
                                    <div class="leftnavicon">
                                        <img src="~/Images/Hr1.png" width="32" height="32" alt="" />
                                    </div>
                                    <div class="leftnavtext leftnavigation">HR</div>
                                </div>
                            </a>
                            <div class="leftnavdivider HR" style="display:none"></div>
                            <a class="Recruitment" style="display:none" href="@Url.Action("RecHome","Recruitment")">
                                <div class="leftnavmaindiv">
                                    <div class="leftnavicon">
                                        <img src="~/Images/recut.png" width="32" height="32" alt="" />
                                    </div>
                                    <div class="leftnavtext leftnavigation">Recruitment</div>
                                </div>
                            </a>
                            <div class="leftnavdivider Recruitment" style="display:none"></div>
                            <a class="USRecruitment" style="display:none" href="@Url.Action("Home", "USRecruitment")">
                                <div class="leftnavmaindiv">
                                    <div class="leftnavicon">
                                        <img src="~/Images/us-recruitment-left.png" width="32" height="32" alt="" />
                                    </div>
                                    <div class="leftnavtext leftnavigation">US Recruitment</div>
                                </div>
                            </a>
                            <div class="leftnavdivider Admin" style="display:none"></div>
                            <a class="Admin" style="display:none" href="@Url.Action("AdminHome", "AdminHome")">
                                <div class="leftnavmaindiv">
                                    <div class="leftnavicon">
                                        <img src="~/Images/administrator.png" width="32" height="32" alt="" />
                                    </div>
                                    <div class="leftnavtext leftnavigation">Admin</div>
                                </div>
                            </a>
                            <div class="leftnavdivider Admin" style="display:none"></div>
                        </div>
                    </div>
                    @RenderBody()
                </div>
            </main>
        </div>
    </div>
</body>
</html>